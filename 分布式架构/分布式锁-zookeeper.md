#### zk 分布式锁

https://www.processon.com/view/link/605761901e0853028a95cdc1

#### zk分布式锁 实现
1. 创建临时 znode
2. 创建临时顺序节点

#### redis 分布式锁和 zk 分布式锁的对比

1. redis 分布式锁，其实需要自己不断去尝试获取锁，比较消耗性能。
2. zk 分布式锁，获取不到锁，注册个监听器即可，不需要不断主动尝试获取锁，性能开销较小。

另外一点就是，
如果是 redis 获取锁的那个客户端 出现 bug 挂了，那么只能等待超时时间之后才能释放锁；
而 zk 的话，因为创建的是临时 znode，只要客户端挂了，znode 就没了，此时就自动释放锁。



