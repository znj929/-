#### 什么是 HTTP

```
指的是超文本传输协议，
不仅限于文字，可以把文本，图片，音频，超链接，按照约定的协议以二进制数据包的形式传递。

```

#### 与 HTTP 相关的各种协议
````
1. URI 和 URL
    URI: 统一资源标识符,可以唯一定位互联网上的资源
    URL: 统一资源定位符，不仅定义资源，还能定义如何找到这个资源
    
    URL 主要由四个部分组成：协议、主机、端口、路径
    1. 协议：即通信双方指定的传输协议，应用最广的当然是本文要介绍的 http 协议，除此之外还有 ftp, mailto，file 等协议。
    2. 主机名：存放资源的服务器主机名或 IP 地址，当前有时候服务器由于安全原因还需要对用户进行认证，需要提供用户名和密码，此时需要在 hostname前加 username:password。
    3. 端口：整数，可选，省略时使用方案的默认端口，各种传输协议都有默认的端口，如 HTTP 默认用的 80 端口，HTTPS 用的 443 端口，传输层协议正是利用这些端口号识别本机中正在进行通信的应用程序，并准确地将数据传输。
    4. 路径：即资源在主机上的存放路径，一般表示主机的目录或文件地址
    
2. TCP/IP 协议
    TCP/IP 协议栈总共有四层
    1. link layer: 链接层 (数据链路层)，负责在以太网，WIFI 这样的底层网络上发送原始数据包，工作在网卡这一层，使用 MAC 地址来标记网络上的设备，所以也叫 MAC 层
    2. Internet layer: 网络层，IP 协议即处于这一层，提供路由和寻址的功能，使两终端系统能够互连且决定最佳路径，並具有一定的拥塞控制和流量控制的能力。相当于传送邮件时需要地址一般重要
    3. transport layer: 传输层，该层的协议为应用进程提供端到端的通信服务，这层主要有 TCP，UDP 两个协议，TCP 提供面向连接的数据流支持、可靠性、流量控制、多路复用等服务，UDP不提供复杂的控制机制，利用 IP 提供面向无连接的简单消息传输
    4. application layer: 即应用层，前面三层已经为网络通信打下了坚实的基础，这层可发挥的空间就大很多了，应用层协议可以想象为不同的服务，每个应用层协议都是为了解决某一类应用问题而生的，每一个服务需要用不同的协议，规定应用进程在通信时所遵循的协议。
3. DNS 协议
    简单说就是把网址解析成ip
    DNS 核心系统是一个三层的树状：
    1. 根域名服务器（Root DNS Server）: 返回「com」,「cn」,「net」等顶级域名服务器的 IP 地址，
    2. 顶级域名服务器（Top-level DNS Server）：管理各自域名下的权威域名服务器，比如 com 顶级域名服务器可以返回 apple.com 域名服务器的 IP 地址；
    3. 权威域名服务器（Authoritative DNS Server）：管理自己域名下主机的 IP 地址，比如 apple.com 权威域名服务器可以返回 www.apple.com 的 IP 地址。
    
    解析过程：首先访问根域名服务器，获取「com」顶级域名服务器的地址,请求「com」顶级域名服务器，返回「baidu.com」域名服务器的地址,然后返回「baidu.com」域名服务器，返回 www.baidu.com 的地址
    

````

#### HTTP 内容协商

请求报文格式：

响应报文格式：




#### HTTP 缓存
````
缓存的请求头为 Cache-Control`

1. max-age 是 HTTP 缓存控制最常用的属性，表示资源存储的最长时间，需要注意的是，时间的计算起点是响应报文的创建时刻（即 Date 字段，也就是离开服务器的时刻），超过后客户端需要重新发起请求。
    服务器返回 Cache-Control：max-age=30，代表资源在客户端可以缓存 30 秒，30 秒内客户端的请求可以直接从缓存获取，超过 30 秒后需要向服务器发起网络请求
2. no-cache: 这个是很容易造成误解的字段，它的含义并不是不允许缓存，而是可以缓存，但在使用之前必须要去服务器验证是否过期，是否有最新的版本；
3. no-store:  这才是真正的不允许缓存，比如秒杀页面这样变化非常频繁的页面就不适合缓存
4. must-revalidate：一旦资源过期（比如已经超过max-age），在成功向原始服务器验证之前，缓存不能用该资源响应后续请求。



````






#### HTTP 连接与HTTP 2的改进
http1.0,http1.1,http2.0
http1.0：默认短链接， 要指定keep-alive来开启持久连接。
http1.1：默认支持长链接，但是同一时间只能对同一个域名请求。
http2.0：支持多路复用，基于一个tcp连接并行发送多个请求以及接收响应，解决了http 1.1对同一时间同一个域名的请求有限制的问题。二进制分帧，将传输数据拆分为更小的帧（数据包），frame（数据包，帧），提高了性能，实现低延迟高吞吐。


#### http的长连接的工作原理

其实就是基于tcp协议的长连接，建立连接后一段时间内不会关闭连接，





#### HTTPS的原理


















